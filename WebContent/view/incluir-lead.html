<!DOCTYPE html>
<html ng-app="myappLogin">
<head>
<meta charset="ISO-8859-1">

<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<title>Enviar Mensagem</title>
</head>
<body ng-controller="loginController">
<div class="container">
<br>
  <img src="imagens/logo-vf.png" alt="">
	<br>
	<br>
  <form>
    <div class="form-group">
      <label for="nome">Nome:</label>
      <input type="text" class="form-control" style="width:660px" ng-model="nome" id="nome" placeholder="Nome de usuario">
    </div>
    
    <div class="form-group">
      <label for="pwdConfirm">E-mail:</label>
      <input type="email" class="form-control" style="width:660px" id="pwdConfirm" ng-model="email" placeholder="Senha">
    </div>
    
    <div class="form-group">
      <label for="telefone">Deixe seu telefone:</label>
      <input type="tel" class="form-control" style="width:360px" id="pwdConfirm" ng-model="telefone" placeholder="Telefone">
    </div>
    
 <div class="form-group">
    <label for="exampleFormControlTextarea2">Digite sua mensagem:</label>
    <textarea class="form-control rounded-0" id="exampleFormControlTextarea2" ng-model="mensagem" rows="7"></textarea>
</div>
    
    <button type="submit" class="btn btn-default" ng-click="enviarMensagem()">Enviar</button>
  </form>
</div>

<script>
var myapp = angular.module('myappLogin', []);
myapp.controller('loginController', function($scope, $http, $window){

$scope.enviarMensagem = function(){
		
		console.log({'user': $scope.nome, 'senha':$scope.senha,'tipo':$scope.tipo});
			
			 //$http.post("https://integrador-motorizei.herokuapp.com/integrador/autenticacao/autenticarUsuario",{'username': $scope.nome, 'senha':$scope.senha,'tipo':$scope.tipo})
			 $http.post("http://localhost:8080/integrador/lead/recebeLeadCliente", {'nome': $scope.nome, 'email':$scope.email, 'telefone':$scope.telefone,'mensagem':$scope.mensagem})
	         .success(function (data, status, headers, config) {
	        	alert('mensagem enviada com sucesso!!');
	        	$window.location.href = 'login.html';
	         })
	         .error(function (data, status, header, config) {
	        	 alert('Houve um erro ao enviar a mensagem!')
	        	 //$window.location.reload();
	         });
	};

});

</script>

</body>
</html>